---
import type { PostPreview } from '../types/sanityTypes'
import SanityImage from './SanityImage.astro';

interface Props {
  post: PostPreview
}

const { post } = Astro.props

const {
  _id, author, excerpt, mainImage, publishedAt, slug, title,
} = post;
---

<article class="bg-slate-100 rounded-lg px-4 py-4 md:h-[22rem] h-96 flex flex-col">
  <header>
    <h1 class="font-robotoMono font-semibold mb-3 ">{title}</h1>
    <SanityImage
      asset={mainImage}
      alt='Blog post'
      width={200}
      height={100}
      className='w-full h-28 object-cover'
    />
  </header>
  <section class="mb-3 mt-1">
    {author &&
      <p>Por {author.name}</p>
    }
    <p class="text-xs text-slate-700">Fecha: {publishedAt}</p>
  </section>
  <div class="flex-1 flex flex-col justify-between">
    <main class="mb-2 overflow-hidden h-full">
      <p class="truncate line-clamp-4 text-wrap text-sm">{excerpt}</p>
    </main>
    <footer>
      <a
        href={`/cientigrados-frontend/post/${slug?.current}`}
        class="bg-slate-700 px-3 py-1 rounded-full leading-none text-white font-semibold mx-auto block w-fit hover:bg-slate-600 transition-colors"
      >
        Leer art√≠culo
      </a>
    </footer>
  </div>
</article>